<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      width: 320px;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      background: #fdf8fa;
      color: #6b5a63;
    }

    /* Header bar */
    .header {
      background: linear-gradient(135deg, #f2a5b3, #a8d4f0);
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .header img {
      width: 22px;
      height: 22px;
      flex-shrink: 0;
    }

    .header h1 {
      margin: 0;
      font-size: 15px;
      font-weight: 600;
      color: #fff;
      letter-spacing: 0.3px;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    .content {
      padding: 16px 20px 20px;
    }

    /* Section labels */
    .label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      color: #b8a0a8;
      margin-bottom: 8px;
    }

    /* Input area */
    .input-group {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
    }

    input[type="text"] {
      flex: 1;
      padding: 10px 14px;
      border: 1px solid #f0dce2;
      border-radius: 8px;
      font-size: 13px;
      background: #fff;
      color: #6b5a63;
      transition: border-color 0.2s;
    }

    input[type="text"]::placeholder {
      color: #d4bcc4;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #f2a5b3;
    }

    button {
      padding: 10px 18px;
      background: #f2a5b3;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      transition: background 0.2s, transform 0.1s;
    }

    button:hover {
      background: #e890a0;
    }

    button:active {
      transform: scale(0.97);
    }

    /* Gear icon button */
    .gear-btn {
      display: block;
      margin-left: auto;
      margin-top: 8px;
      background: none;
      padding: 6px;
      border-radius: 50%;
      line-height: 1;
      transition: background 0.2s;
    }

    .gear-btn:hover {
      background: #fae8ed;
    }

    .gear-btn svg {
      width: 18px;
      height: 18px;
      display: block;
      fill: #b8a0a8;
      transition: fill 0.2s;
    }

    .gear-btn:hover svg {
      fill: #6b5a63;
    }

    /* Back button */
    .back-btn {
      background: none;
      color: #b8a0a8;
      font-size: 12px;
      padding: 4px 0;
      margin-bottom: 12px;
      font-weight: 500;
    }

    .back-btn:hover {
      background: none;
      color: #6b5a63;
    }

    /* Settings menu items */
    .settings-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .settings-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      background: #fff;
      border: 1px solid #f0dce2;
      border-radius: 10px;
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s;
      font-size: 13px;
      font-weight: 500;
      color: #6b5a63;
    }

    .settings-item:hover {
      border-color: #e4c8d0;
      background: #fdf0f3;
    }

    .settings-item svg {
      width: 18px;
      height: 18px;
      flex-shrink: 0;
    }

    .settings-item .arrow {
      margin-left: auto;
      color: #d4bcc4;
      font-size: 14px;
    }

    /* Scrollable list */
    .scroll-list {
      max-height: 280px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .scroll-list::-webkit-scrollbar {
      width: 4px;
    }

    .scroll-list::-webkit-scrollbar-track {
      background: transparent;
    }

    .scroll-list::-webkit-scrollbar-thumb {
      background: #f0dce2;
      border-radius: 4px;
    }

    .blocked-item, .redirect-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 12px;
      background: #fff;
      border-radius: 8px;
      border: 1px solid #f0dce2;
      transition: border-color 0.2s;
    }

    .blocked-item:hover, .redirect-item:hover {
      border-color: #e4c8d0;
    }

    .blocked-item span, .redirect-item .rule-from {
      font-size: 13px;
      color: #6b5a63;
      font-weight: 500;
    }

    .redirect-item .rule-arrow {
      color: #a8d4f0;
      margin: 0 6px;
      flex-shrink: 0;
      font-size: 13px;
    }

    .redirect-item .rule-to {
      font-size: 13px;
      color: #b8a0a8;
      font-weight: 500;
    }

    .redirect-item .rule-info {
      display: flex;
      align-items: center;
      min-width: 0;
      flex: 1;
      overflow: hidden;
    }

    .redirect-item .rule-from,
    .redirect-item .rule-to {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      min-width: 0;
    }

    .redirect-item .rule-to {
      flex-shrink: 1;
    }

    .remove-btn {
      padding: 5px 12px;
      background: transparent;
      border: 1px solid #f2a5b3;
      color: #f2a5b3;
      font-size: 11px;
      font-weight: 600;
      border-radius: 6px;
      flex-shrink: 0;
      margin-left: 8px;
    }

    .remove-btn:hover {
      background: #f2a5b3;
      color: #fff;
    }

    /* Redirect input row */
    .redirect-input-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 10px;
    }

    .redirect-input-row input {
      flex: 1;
      min-width: 0;
    }

    .redirect-arrow-icon {
      flex-shrink: 0;
      display: flex;
      align-items: center;
    }

    .redirect-arrow-icon svg {
      width: 18px;
      height: 18px;
      fill: #a8d4f0;
    }

    .add-redirect-btn {
      width: 100%;
      padding: 10px;
      background: #a8d4f0;
      margin-bottom: 14px;
      border-radius: 8px;
      font-size: 13px;
    }

    .add-redirect-btn:hover {
      background: #8ec5e8;
    }

    /* Empty state */
    .empty-msg {
      color: #d4bcc4;
      font-size: 13px;
      text-align: center;
      padding: 24px 10px;
    }

    .hidden {
      display: none;
    }

    /* Removal confirmation overlay */
    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(107, 90, 99, 0.4);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }

    .overlay.active {
      display: flex;
    }

    .confirm-box {
      background: #fdf8fa;
      border: 1px solid #f0dce2;
      border-radius: 14px;
      padding: 28px 24px;
      text-align: center;
      width: 260px;
      box-shadow: 0 8px 32px rgba(107, 90, 99, 0.15);
    }

    .confirm-box .message {
      font-size: 15px;
      color: #6b5a63;
      margin-bottom: 6px;
      font-weight: 500;
    }

    .confirm-box .domain-name {
      font-size: 13px;
      color: #b8a0a8;
      margin-bottom: 20px;
      word-break: break-all;
    }

    .confirm-box .timer {
      font-size: 36px;
      font-weight: 700;
      color: #f2a5b3;
      margin-bottom: 22px;
      font-variant-numeric: tabular-nums;
    }

    .confirm-box .btn-row {
      display: flex;
      gap: 8px;
    }

    .confirm-box .cancel-btn {
      flex: 1;
      padding: 10px;
      background: #fae8ed;
      color: #b8a0a8;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
    }

    .confirm-box .cancel-btn:hover {
      background: #f0dce2;
      color: #6b5a63;
    }

    .confirm-box .confirm-remove-btn {
      flex: 1;
      padding: 10px;
      background: #fae8ed;
      color: #d4bcc4;
      border: none;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: not-allowed;
      transition: all 0.3s;
    }

    .confirm-box .confirm-remove-btn.enabled {
      background: #f2a5b3;
      color: #fff;
      cursor: pointer;
    }

    .confirm-box .confirm-remove-btn.enabled:hover {
      background: #e890a0;
    }
  </style>
</head>
<body>
  <!-- Main View -->
  <div id="mainView">
    <div class="header">
      <img src="icon-48.png" alt="nogo" style="width:22px;height:22px;">
      <h1><span style="font-size:15px;">nogo</span><span style="font-size:10px;font-weight:400;opacity:0.8;margin-left:6px;">website blocker/redirector</span></h1>
    </div>
    <div class="content">
      <div class="label">Block a website/domain</div>
      <div class="input-group">
        <input type="text" id="domainInput" placeholder="example.com">
        <button id="addBtn">Block</button>
      </div>
      <button class="gear-btn" id="gearBtn" title="Settings">
        <svg viewBox="0 0 24 24"><path d="M19.14 12.94a7.07 7.07 0 0 0 .06-.94 7.07 7.07 0 0 0-.06-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.49.49 0 0 0-.59-.22l-2.39.96a7.04 7.04 0 0 0-1.62-.94l-.36-2.54a.48.48 0 0 0-.48-.41h-3.84a.48.48 0 0 0-.48.41l-.36 2.54a7.04 7.04 0 0 0-1.62.94l-2.39-.96a.49.49 0 0 0-.59.22L2.74 8.87a.48.48 0 0 0 .12.61l2.03 1.58a7.07 7.07 0 0 0-.06.94c0 .32.02.64.06.94L2.86 14.52a.49.49 0 0 0-.12.61l1.92 3.32a.49.49 0 0 0 .59.22l2.39-.96c.5.38 1.04.7 1.62.94l.36 2.54c.05.24.26.41.48.41h3.84c.24 0 .44-.17.48-.41l.36-2.54a7.04 7.04 0 0 0 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32a.49.49 0 0 0-.12-.61l-2.03-1.58zM12 15.6A3.6 3.6 0 1 1 12 8.4a3.6 3.6 0 0 1 0 7.2z"/></svg>
      </button>
    </div>
  </div>

  <!-- Settings View -->
  <div id="settingsView" class="hidden">
    <div class="header">
      <img src="icon-48.png" alt="nogo" style="width:22px;height:22px;">
      <h1><span style="font-size:15px;">nogo</span><span style="font-size:10px;font-weight:400;opacity:0.8;margin-left:6px;">website blocker/redirector</span></h1>
    </div>
    <div class="content">
      <button class="back-btn" id="settingsBackBtn">&larr; Back</button>
      <div class="label">Settings</div>
      <div class="settings-list">
        <div class="settings-item" id="blockedSitesBtn">
          <svg viewBox="0 0 24 24" fill="#f2a5b3"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31A7.93 7.93 0 0 1 12 20zm6.31-3.1L7.1 5.69A7.93 7.93 0 0 1 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"/></svg>
          <span>Blocked Sites</span>
          <span class="arrow">&rsaquo;</span>
        </div>
        <div class="settings-item" id="redirectSitesBtn">
          <svg viewBox="0 0 24 24" fill="#a8d4f0"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"/></svg>
          <span>Redirect Sites</span>
          <span class="arrow">&rsaquo;</span>
        </div>
        <div class="settings-item" id="supportMeBtn">
          <svg viewBox="0 0 24 24" fill="#f2a5b3"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
          <span>Support Me</span>
          <span class="arrow">&rsaquo;</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Blocked Sites View -->
  <div id="blockedView" class="hidden">
    <div class="header">
      <img src="icon-48.png" alt="nogo" style="width:22px;height:22px;">
      <h1><span style="font-size:15px;">nogo</span><span style="font-size:10px;font-weight:400;opacity:0.8;margin-left:6px;">website blocker/redirector</span></h1>
    </div>
    <div class="content">
      <button class="back-btn" id="blockedBackBtn">&larr; Back</button>
      <div class="label">Blocked Sites</div>
      <div class="scroll-list" id="blockedList"></div>
    </div>
  </div>

  <!-- Redirect Sites View -->
  <div id="redirectView" class="hidden">
    <div class="header">
      <img src="icon-48.png" alt="nogo" style="width:22px;height:22px;">
      <h1><span style="font-size:15px;">nogo</span><span style="font-size:10px;font-weight:400;opacity:0.8;margin-left:6px;">website blocker/redirector</span></h1>
    </div>
    <div class="content">
      <button class="back-btn" id="redirectBackBtn">&larr; Back</button>
      <div class="label">Redirect Sites</div>
      <div class="redirect-input-row">
        <input type="text" id="fromInput" placeholder="reddit.com">
        <div class="redirect-arrow-icon">
          <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
        </div>
        <input type="text" id="toInput" placeholder="wikipedia.org">
      </div>
      <button class="add-redirect-btn" id="addRuleBtn">Add Redirect</button>
      <div class="scroll-list" id="redirectList"></div>
    </div>
  </div>

  <!-- Removal confirmation overlay -->
  <div class="overlay" id="confirmOverlay">
    <div class="confirm-box">
      <div class="message">take a breath...are you sure?</div>
      <div class="domain-name" id="confirmDomain"></div>
      <div class="timer" id="confirmTimer">60</div>
      <div class="btn-row">
        <button class="cancel-btn" id="confirmCancel">Cancel</button>
        <button class="confirm-remove-btn" id="confirmRemove" disabled>Remove</button>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
